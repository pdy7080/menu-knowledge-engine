# 기술 구현 전략

## 1. OCR 기술 비교

| 기술 | 한국어 성능 | 특징 | 가격 | 추천도 |
|---|---|---|---|---|
| **네이버 CLOVA OCR** | ★★★★★ | ICDAR 2019 4개 분야 1위, 곡선/기울임/필기체 인식, 읽기 순서 추정 | 유료 | **1순위** |
| Google Cloud Vision API | ★★★★☆ | 80개 언어, 속도 최고 | 월 1,000건 무료, 이후 $1.50/1,000건 | 2순위 |
| Upstage Document AI | ★★★★☆ | 한국어 문서 특화 | 유료 | 3순위 |
| Tesseract (오픈소스) | ★★☆☆☆ | 무료 | 무료 | 비추천 |

### 메뉴판 특수 과제
- 손글씨, 디자인 폰트, 세로 텍스트, 다중 컬럼 레이아웃
- **해법:** OCR 후 LLM 기반 후처리 파이프라인 (메뉴명·가격·설명 분리)
- **참고:** Veryfi Restaurant Menu OCR API (이미지 → 구조화 JSON 자동 변환)

---

## 2. 설명 생성: RAG vs Fine-tuning

| 항목 | RAG (권장) | Fine-tuning |
|---|---|---|
| 구축 비용 | 수백만~수천만 원 | 수천만~수억 원 |
| 데이터 업데이트 | 문서 교체로 즉시 반영 | 재학습 필요 |
| 할루시네이션 | 억제에 우수 | 상대적 위험 |
| 신메뉴 추가 | 빈번한 환경에 유리 | 재학습 비용 발생 |
| 구축 방식 | 한식 DB/영양정보/문화 설명 → 벡터 DB → LLM 참고 생성 | 대량 학습 데이터로 모델 자체 학습 |

### LLM 선택
| 모델 | 강점 | 용도 |
|---|---|---|
| **GPT-4o** | 다국어 음식 설명 강력 | 메인 번역/설명 생성 |
| **HyperCLOVA X** | 한국어 특화 | 한국어 메뉴 파싱, 한식 문화 설명 |
| Claude | 긴 컨텍스트, 정확한 지시 수행 | 복잡한 번역 검수 |
| Gemini | Vision 기능으로 이미지 직접 분석 | 메뉴판 이미지 직접 해석 |

**권장 조합:** HyperCLOVA X (한국어 처리) + GPT-4o (다국어 번역/설명)

---

## 3. 한국 음식 데이터베이스 구축 자원

| 출처 | 데이터 규모 | 유형 | 접근 방식 |
|---|---|---|---|
| 식약처 식품영양성분 DB | 92,000개 식품 | 영양정보 | Open API |
| 한식재단 한식 아카이브 | 9,083건 | 한식/음식문화 콘텐츠 | 웹 |
| AI Hub 한식 이미지 | 15만 장 (150종×1,000장) | 이미지 데이터 | 공공 다운로드 |
| AI Hub 400종 음식 이미지 | 400종 | 이미지 데이터 | 공공 다운로드 |
| 한국국제교류재단 | 약 700종 | 한국음식 영문 정보 | 참고 자료 |
| 농촌진흥청 | 포괄적 | Korean Food Composition Table | 참고 자료 |

### 권장 DB 스키마
```
- 메뉴명: 한국어 / 로마자 / 다국어 번역
- 카테고리: 12종 (밥/면/국탕/찌개/볶음/구이/찜/조림/전/나물/김치 등)
- 재료: 주재료, 부재료, 양념
- 알레르기 정보: 22종
- 맵기 레벨: 1~5단계
- 영양 정보: 칼로리, 주요 영양소
- 문화적 설명: 역사, 먹는 방법, 어울리는 반찬
- 대표 이미지: URL / 생성 이미지
```

---

## 4. 이미지 소싱 전략

| 소스 | 용도 | 비고 |
|---|---|---|
| AI Hub 공공데이터 | **1순위** 대표 이미지 | 15만 장 활용 가능 |
| KIMCHI 모델 (Backend.AI) | 보조 생성 | 한국 문화 특화 이미지 생성 AI, 일본 음식 혼동 문제 해결 |

---

## 5. 번역 엔진 조합 전략

| 언어 영역 | 엔진 | 이유 |
|---|---|---|
| 아시아 (일·중) | Papago | 한→일, 한→중 최고 품질 |
| 영어·유럽어 | DeepL | 자연스러운 번역 품질 |
| 기타 다국어 | Google Translate | 커버리지 최대 |
| **최종 단계** | **LLM Transcreation** | **문화적 맥락 포함 재창작 — 핵심 차별화** |

---

## 6. 권장 기술 아키텍처

```
[입력]
메뉴판 이미지 (사진/스캔)
    ↓
[전처리]
이미지 보정 (회전, 밝기, 대비)
    ↓
[OCR]
CLOVA OCR → 텍스트 추출
    ↓
[구조화]
LLM 레이아웃 분석 → 메뉴명 / 가격 / 설명 분리
    ↓
[RAG 시스템]
한식 DB 벡터 검색 → LLM 문화적 설명 생성
    ↓
[번역]
다국어 Transcreation (Papago + DeepL + Google + LLM)
    ↓
[후처리]
로마자 표기 + 이미지 매칭 + 알레르기 태깅
    ↓
[출력]
디지털 메뉴 웹페이지 (QR 코드 접근)
```

### Phase 1 MVP 기술 스택
| 레이어 | 기술 |
|---|---|
| 프론트엔드 | Next.js |
| 백엔드 | FastAPI (Python) |
| OCR | CLOVA OCR |
| LLM | GPT-4o + HyperCLOVA X |
| 데이터베이스 | PostgreSQL + pgvector (RAG) |
| 호스팅 | AWS / Vercel |
