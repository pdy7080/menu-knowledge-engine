# OCR ì„œë¹„ìŠ¤ ë¹„êµ ë¶„ì„ v3: Menu Knowledge Engine

> ì‘ì„±ì¼: 2025-02-11 | v3 (ë¦¬ë·° í”¼ë“œë°± ë°˜ì˜)
> ëª©ì : MVP ë‹¨ê³„ ìµœì  OCR ì „ëµ ê²°ì •
> v3 ë³€ê²½ì‚¬í•­: ë¹„ìš© í˜„ì‹¤í™”, MVP 2-Tier ë‹¨ìˆœí™”, ë¦¬ìŠ¤í¬ ì„¹ì…˜ ì¶”ê°€, ìš°ì„ ìˆœìœ„ ì¬ì •ë¦½

---

## í•µì‹¬ ê²°ë¡  (TL;DR)

### âš¡ ê°€ì¥ ì¤‘ìš”í•œ íŒë‹¨

> **"OCR ì •í™•ë„ë³´ë‹¤ Knowledge Graph ë§¤ì¹­ ì •í™•ë„ê°€ ë” ì¤‘ìš”í•˜ë‹¤"**
>
> OCR 90% + ë§¤ì¹­ 95% = ì‹¤ì„œë¹„ìŠ¤ ê°€ëŠ¥
> OCR 99% + ë§¤ì¹­ 60% = ì‹¤ì„œë¹„ìŠ¤ ë¶ˆê°€
>
> OCRì€ "ì¶©ë¶„íˆ ì¢‹ìœ¼ë©´" ëœë‹¤. ë§¤ì¹­ ì—”ì§„ì´ ì˜¤ë¥˜ë¥¼ í¡ìˆ˜í•œë‹¤.

### ìµœì¢… ê¶Œì¥: ë‹¨ê³„ë³„ ì „ëµ

```
ğŸš€ MVP (0~3ê°œì›”): 2-Tier â€” ì•„í‚¤í…ì²˜ ë‹¨ìˆœí™” ìµœìš°ì„ 
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Tier 1] GPT-4o mini Vision â€” OCR + íŒŒì‹± + êµ¬ì¡°í™” í†µí•©
    â”‚ confidence < 0.75 ë˜ëŠ” ì‹¤íŒ¨
    â–¼
[Tier 2] CLOVA OCR â€” í•œêµ­ì–´ íŠ¹í™” (ì›” 100ê±´ ë¬´ë£Œ)
    + GPT-4o mini íŒŒì‹±

ğŸ“ˆ ì„±ì¥ê¸° (ì›” 3,000ê±´+): 3-Tier â€” ë¹„ìš© ìµœì í™”
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[Tier 1] PaddleOCR (ë¡œì»¬) â€” ëŒ€ëŸ‰ ì²˜ë¦¬, ë¹„ìš© $0
    â”‚ ì‹¤íŒ¨
    â–¼
[Tier 2] GPT-4o mini Vision â€” ë³µì¡í•œ ë©”ë‰´íŒ
    â”‚ ì‹¤íŒ¨
    â–¼
[Tier 3] CLOVA OCR â€” ì†ê¸€ì”¨/í•„ê¸°ì²´ ì „ìš©
```

**MVP ì›” ì˜ˆìƒ ë¹„ìš©: $3~15 (OCR ë¹„ìš©ì€ ì‚¬ì‹¤ìƒ ë¬´ì‹œ ê°€ëŠ¥)**

---

## 1. ì „ì²´ ì„œë¹„ìŠ¤ ë¹„êµí‘œ

| ì„œë¹„ìŠ¤ | ë¹„ìš©/ê±´ | ë¬´ë£Œ í‹°ì–´ | í•œê¸€ ì •í™•ë„ | ì†ê¸€ì”¨ | êµ¬ì¡°í™” | ì„¤ì • ë‚œì´ë„ | MVP ì¶”ì²œ |
|--------|---------|-----------|------------|--------|--------|------------|----------|
| **GPT-4o mini Vision** | $0.005~0.01 | ì—†ìŒ(ì¢…ëŸ‰ì œ) | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | ë§¤ìš° ì‰¬ì›€ | âœ… Tier 1 |
| **CLOVA OCR** | ~$0.025?* | ì›” 100ê±´ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | ì‰¬ì›€ | âœ… Tier 2 |
| **GPT-4o Vision** | $0.01~0.03 | ì—†ìŒ(ì¢…ëŸ‰ì œ) | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | ë§¤ìš° ì‰¬ì›€ | ğŸ”„ í•„ìš”ì‹œ |
| **PaddleOCR** | $0 (ë¡œì»¬) | ì™„ì „ ë¬´ë£Œ | â­â­â­Â½ | â­â­â­ | â­â­â­ | ì¤‘ê°„ | ğŸ“Œ ì„±ì¥ê¸° |
| **Google Vision** | $0.0015 | ì›” 1,000ê±´ | â­â­â­â­ | â­â­â­ | â­â­ | ì‰¬ì›€ | âŒ |
| **OCR.space** | $0 (ë¬´ë£Œ) | ë¬´ì œí•œ(ì†ë„ì œí•œ) | â­â­â­ | â­â­ | â­â­ | ë§¤ìš° ì‰¬ì›€ | âŒ |
| **Azure OCR** | $0.001 | ì›” 5,000ê±´ | â­â­â­â­ | â­â­â­ | â­â­â­ | ì¤‘ê°„ | âŒ |
| **AWS Textract** | $0.0015 | ì›” 1,000ê±´ | â­â­â­Â½ | â­â­â­ | â­â­â­â­ | ì¤‘ê°„ | âŒ |
| **Tesseract** | $0 (ë¡œì»¬) | ì™„ì „ ë¬´ë£Œ | â­â­ | â­ | â­ | ì–´ë ¤ì›€ | âŒ |

*CLOVA OCR ì •í™•í•œ ì´ˆê³¼ ë‹¨ê°€ ë¯¸ê³µê°œ

---

## 2. GPT-4o mini Vision: ì™œ Tier 1ì¸ê°€ (ê·¸ë¦¬ê³  ë¬´ì—‡ì´ ìœ„í—˜í•œê°€)

### ì±„íƒ ì´ìœ 

| ê¸°ì¤€ | GPT-4o mini Vision | ì „í†µ OCR + LLM |
|------|-------------------|---------------|
| **API í˜¸ì¶œ** | 1íšŒ (í†µí•© ì²˜ë¦¬) | 2íšŒ (OCR â†’ LLM) |
| **ì—ëŸ¬ í¬ì¸íŠ¸** | 1ê°œ | 2ê°œ |
| **ê°œë°œ ì‹œê°„** | í”„ë¡¬í”„íŠ¸ 1ê°œ | OCR ì—°ë™ + íŒŒì‹± ë¡œì§ |
| **ë¹„ìš©** | $0.005~0.01/ê±´ | OCR + LLM ê°ê° |
| **ë©”ë‰´ ì´í•´** | ë§¥ë½ ì´í•´ ê°€ëŠ¥ | í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œ |

**í•µì‹¬:** ê±´ë‹¹ ëª‡ ì› ì°¨ì´ë¡œ ì•„í‚¤í…ì²˜ê°€ 2ë°° ë³µì¡í•´ì§€ëŠ” ê²ƒì€ MVPì—ì„œ ë¹„í•©ë¦¬ì .

### âš ï¸ ì•Œë ¤ì§„ ë¦¬ìŠ¤í¬ì™€ ì™„í™” ì „ëµ

GPT-4o mini Visionì€ **ì „í†µ OCR ì—”ì§„ì´ ì•„ë‹ˆë¼ Vision LLM**ì´ë‹¤.
ì´ ì°¨ì´ì—ì„œ ì˜¤ëŠ” êµ¬ì²´ì  ë¦¬ìŠ¤í¬:

| ë¦¬ìŠ¤í¬ | ì„¤ëª… | ì‹¬ê°ë„ | ì™„í™” ì „ëµ |
|--------|------|--------|----------|
| **ë¹„ê²°ì •ì„±** | ë™ì¼ ì´ë¯¸ì§€, ë™ì¼ í”„ë¡¬í”„íŠ¸ì—ë„ ì¶œë ¥ ë¯¸ì„¸ ì°¨ì´ | ğŸŸ¡ ì¤‘ | `temperature: 0` ì„¤ì • + JSON schema ê°•ì œ |
| **ì¢Œí‘œ ì—†ìŒ** | ë°”ìš´ë”© ë°•ìŠ¤/í…ìŠ¤íŠ¸ ìœ„ì¹˜ ë¯¸ì œê³µ | ğŸŸ¢ ë‚® | ìš°ë¦¬ ì„œë¹„ìŠ¤ì— ì¢Œí‘œ ë¶ˆí•„ìš” |
| **ê°€ê²©-ë©”ë‰´ ì˜¤ë§¤í•‘** | ë³µì¡í•œ ë ˆì´ì•„ì›ƒì—ì„œ ê°€ê²©ì´ ì˜† ë©”ë‰´ì— ë¶™ì„ ìˆ˜ ìˆìŒ | ğŸ”´ ë†’ | **ê°€ê²© í›„ì²˜ë¦¬ ê²€ì¦ ë ˆì´ì–´ í•„ìˆ˜** |
| **ì„¸ë¡œ í…ìŠ¤íŠ¸** | ì„¸ë¡œì“°ê¸° ë©”ë‰´íŒ ì¸ì‹ ë¶ˆì•ˆì • | ğŸŸ¡ ì¤‘ | ì´ë¯¸ì§€ ì „ì²˜ë¦¬(íšŒì „) + CLOVA fallback |
| **ë‹¤ì¤‘ ì»¬ëŸ¼** | ì¢Œ/ìš° ì»¬ëŸ¼ ìˆœì„œ í˜¼ë™ ê°€ëŠ¥ | ğŸŸ¡ ì¤‘ | í”„ë¡¬í”„íŠ¸ì— ì»¬ëŸ¼ ì¸ì‹ ì§€ì‹œ ëª…ì‹œ |

### ğŸ”´ ê°€ê²© í›„ì²˜ë¦¬ëŠ” í•„ìˆ˜

ê°€ê²©ì€ Knowledge Graphë¡œ ë³´ì •í•  ìˆ˜ ì—†ëŠ” ìœ ì¼í•œ ë°ì´í„°.
í‹€ë¦¬ë©´ ì‚¬ìš©ì ì‹ ë¢°ê°€ ì¦‰ì‹œ ë¬´ë„ˆì§„ë‹¤.

```python
import re

def validate_and_normalize_price(price_raw) -> int | None:
    """Vision LLMì´ ì¶”ì¶œí•œ ê°€ê²©ì„ ê²€ì¦/ë³´ì •"""
    if price_raw is None:
        return None
    
    # ë¬¸ìì—´ ì •ê·œí™”
    s = str(price_raw).replace(',', '').replace('.', '').replace(' ', '')
    s = s.replace('ì›', '').replace('â‚©', '').replace('won', '')
    
    # "ë§Œì›" ì²˜ë¦¬
    if 'ë§Œ' in s:
        s = s.replace('ë§Œ', '')
        try:
            return int(float(s) * 10000)
        except:
            return None
    
    # ìˆ«ì ì¶”ì¶œ
    nums = re.findall(r'\d+', s)
    if not nums:
        return None
    price = int(nums[0])
    
    # í•œêµ­ ì‹ë‹¹ ê°€ê²© ë²”ìœ„ ì²´í¬ (1,000 ~ 300,000ì›)
    if price < 1000 or price > 300000:
        return None  # ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ê°€ê²© â†’ null (ìˆ˜ë™ í™•ì¸ í•„ìš”)
    
    # 500ì› ë‹¨ìœ„ ì²´í¬ (í•œêµ­ ê°€ê²© ê´€í–‰)
    if price % 100 != 0:
        return None  # 8743ì› ê°™ì€ ë¹„ì •ìƒ ê°€ê²©
    
    return price
```

---

## 3. ì„œë¹„ìŠ¤ë³„ ìƒì„¸ ë¶„ì„

### âœ… CLOVA OCR â€” Tier 2 (í•œêµ­ì–´ ìµœê°•)

**ì±„íƒ ì´ìœ :**
- í•œêµ­ì–´ ì†ê¸€ì”¨/í•„ê¸°ì²´ ì¸ì‹ ìµœê³  ì„±ëŠ¥
- ICDAR 2019 4ê°œ ë¶„ì•¼ 1ìœ„
- ê³¡ì„ /ê¸°ìš¸ì„/í•„ê¸°ì²´ê¹Œì§€ ì¸ì‹
- ì›” 100ê±´ ë¬´ë£Œ (MVP ì¶©ë¶„)

**MVPì—ì„œì˜ CLOVA í˜¸ì¶œ ë¹„ìœ¨ ì¶”ì •:**

| ì‹ë‹¹ ìœ í˜• | ë¹„ì •í˜• ë©”ë‰´íŒ ë¹„ìœ¨ | ì„¤ëª… |
|----------|-------------------|------|
| ì„±ìˆ˜Â·ëª…ë™ (MVP ëŒ€ìƒ) | 10~15% | ëª¨ë˜ ì‹ë‹¹ ìœ„ì£¼ |
| í™ëŒ€Â·ì´íƒœì› | 15~20% | ê°œì„± ìˆëŠ” ê°„íŒ/ë©”ë‰´ |
| ì „í†µì‹œì¥Â·ê³¨ëª©ì‹ë‹¹ | 30~40% | ì†ê¸€ì”¨/ì¹ íŒ ë‹¤ìˆ˜ |
| ì§€ë°© ë¡œì»¬ | 40~60% | ë¹„ì •í˜• ë¹„ìœ¨ ë§¤ìš° ë†’ìŒ |

**â†’ MVP ê¸°ì¤€ CLOVA í˜¸ì¶œ ë¹„ìœ¨: 10~15% (5%ëŠ” ë‚™ê´€ì ì´ì—ˆìŒ)**
**â†’ ì›” 100ê±´ ë¬´ë£Œ ë²”ìœ„ ë‚´ ì¶©ë¶„ (MVP ì›” 100~300ê±´ Ã— 15% = 15~45ê±´)**

**ì£¼ì˜ì‚¬í•­:**
- ê°€ê²© ë¶ˆíˆ¬ëª…: ì •í™•í•œ ì´ˆê³¼ ë‹¨ê°€ ì½˜ì†”ì—ì„œ í™•ì¸ ë¶ˆê°€
- TPS ì œí•œ: ìµœëŒ€ 1 tps â†’ ëŒ€ëŸ‰ ì²˜ë¦¬ ì‹œ ë³‘ëª©
- ë„ë©”ì¸ ê´€ë¦¬: ì‚­ì œ ë¶ˆê°€, ì¤‘ì§€ ì‹œì—ë„ ê¸°ë³¸ë£Œ ìš°ë ¤
- API Gateway ë³„ë„ ê³¼ê¸ˆ ëª¨ë‹ˆí„°ë§ í•„ìš”

---

### ğŸ“Œ PaddleOCR â€” ì„±ì¥ê¸° Tier 1 (ë¬´ë£Œ ëŒ€ëŸ‰ ì²˜ë¦¬)

**í˜„í™© (2025ë…„ ê¸°ì¤€):**
- PP-OCRv5 (2025.05 ì¶œì‹œ) â€” 100+ ì–¸ì–´, GitHub 50,000+ stars
- **í•œêµ­ì–´ ì „ìš© ëª¨ë¸**: `korean_PP-OCRv5_mobile_rec` (HuggingFace)
- PaddleOCR-VL 0.9B â€” 109ê°œ ì–¸ì–´ Vision-Language ëª¨ë¸
- Apache 2.0 â†’ **ìƒì—…ì  ì‚¬ìš© ì™„ì „ ë¬´ë£Œ**

**MVPì—ì„œ ì œì™¸í•˜ëŠ” ì´ìœ :**

| ì¶”ê°€ ë³µì¡ì„± | ì ˆê° ë¹„ìš© |
|------------|----------|
| Docker ì»¨í…Œì´ë„ˆ ì¶”ê°€ (~500MB+) | ê±´ë‹¹ $0.005 ì ˆê° |
| ëª¨ë¸ ë¡œë”© ì‹œê°„ (ì²« í˜¸ì¶œ ìˆ˜ì´ˆ) | ì›” 300ê±´ Ã— $0.005 = $1.50 |
| Python í™˜ê²½/ì˜ì¡´ì„± ê´€ë¦¬ | - |
| ì¥ì•  ëŒ€ì‘ í¬ì¸íŠ¸ ì¦ê°€ | - |

**â†’ ì›” $1.50 ì ˆê°ì„ ìœ„í•´ ì•„í‚¤í…ì²˜ ë³µì¡ì„±ì„ ì˜¬ë¦¬ëŠ” ê²ƒì€ ë¹„í•©ë¦¬ì **

**ì„±ì¥ê¸°ì— íˆ¬ì… ì‹œì :** ì›” OCR í˜¸ì¶œ 3,000ê±´+ (ì•½ ì‹ë‹¹ 300ê°œ+)

```python
# ì„±ì¥ê¸° PaddleOCR Docker êµ¬ì„± ì˜ˆì‹œ
# docker-compose.ymlì— ì¶”ê°€
# paddleocr:
#   image: paddlepaddle/paddleocr:latest
#   volumes:
#     - ./models:/models
#   environment:
#     - MODEL_NAME=korean_PP-OCRv5_mobile_rec
#   ports:
#     - "8868:8868"

from paddleocr import PaddleOCR
ocr = PaddleOCR(
    text_recognition_model_name="korean_PP-OCRv5_mobile_rec",
    use_doc_orientation_classify=False,
    use_textline_orientation=True,
    device="cpu"  # GPU ì—†ì´ë„ ë™ì‘
)
result = ocr.predict("menu_photo.jpg")
```

---

### âŒ ì±„íƒí•˜ì§€ ì•ŠëŠ” ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | ë¶ˆì±„íƒ ì´ìœ  |
|--------|-----------|
| **Tesseract** | PaddleOCRì´ ëª¨ë“  ë©´ì—ì„œ ìƒìœ„í˜¸í™˜. í•œê¸€ ì¸ì‹ ìµœí•˜ìœ„. ë ˆì´ì•„ì›ƒ ë¶„ì„ ì—†ìŒ. |
| **OCR.space** | í•œêµ­ì–´ "Good" ìµœí•˜ìœ„ ë“±ê¸‰. ì†ê¸€ì”¨ ë¯¸ì§€ì›(ICR ì—†ìŒ). ë¬´ë£Œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë¦¬ìŠ¤í¬. |
| **Google Vision** | GPT-4o miniê°€ ë™ì¼ ê°€ê²©ì— êµ¬ì¡°í™”ê¹Œì§€ í†µí•© ì²˜ë¦¬. ë³„ë„ ì±„íƒ ì´ìœ  ì—†ìŒ. |
| **Azure OCR** | í”„ë¡œì íŠ¸ì—ì„œ Azure ë¯¸ì‚¬ìš©. ì¶”ê°€ í†µí•© ë¶€ë‹´ ëŒ€ë¹„ ì´ì  ì—†ìŒ. |
| **AWS Textract** | ë©”ë‰´íŒì— ì˜¤ë²„ìŠ¤í™(ë¬¸ì„œ ì²˜ë¦¬ íŠ¹í™”). í…Œì´ë¸” ì¶”ì¶œ $15/1,000ê±´ìœ¼ë¡œ ë¹„ìŒˆ. |

---

## 4. ë¹„ìš© ì‹œë®¬ë ˆì´ì…˜ (í˜„ì‹¤ì  ì¶”ì •)

### ê±´ë‹¹ ë¹„ìš© í˜„ì‹¤í™”

GPT-4o mini Vision ì‹¤ì œ ë¹„ìš© ë²”ìœ„:

| ë©”ë‰´íŒ ìœ í˜• | ì´ë¯¸ì§€ í† í° | ì¶œë ¥ í† í° | ê±´ë‹¹ ë¹„ìš© |
|------------|-----------|----------|----------|
| ì†Œí˜• (5~10ê°œ ë©”ë‰´) | ~200 | ~400 | ~$0.004 |
| **ì¤‘í˜• (10~30ê°œ ë©”ë‰´)** | ~500 | ~800 | **~$0.007** |
| ëŒ€í˜• (30ê°œ+ ë©”ë‰´) | ~800 | ~1,500 | ~$0.013 |

**ê¸°ì¤€ ë‹¨ê°€: $0.007/ê±´ (ì¤‘í˜• ë©”ë‰´íŒ ê¸°ì¤€)**

ì´ì „ ë¬¸ì„œì˜ $0.003ì€ ìµœì†Œì¹˜ì˜€ìŒ. 2~3ë°° ìƒí–¥ ì¡°ì •.

### MVP 2-Tier ë¹„ìš©

**ê°€ì •:** Tier 1(GPT-4o mini)ì—ì„œ 85~90% ì²˜ë¦¬, Tier 2(CLOVA)ì—ì„œ 10~15%

| ë‹¨ê³„ | ì›” í˜¸ì¶œ | Tier 1 (GPT-4o mini) | Tier 2 (CLOVA) | **í•©ê³„** |
|------|---------|---------------------|---------------|---------|
| MVP ì´ˆê¸° | 100ê±´ | 85ê±´ Ã— $0.007 = $0.60 | 15ê±´ Ã— $0 = $0 | **~$0.60** |
| MVP ì¤‘ê¸° | 300ê±´ | 260ê±´ Ã— $0.007 = $1.82 | 40ê±´ Ã— $0 = $0 | **~$1.82** |
| MVP í›„ê¸° | 500ê±´ | 425ê±´ Ã— $0.007 = $2.98 | 75ê±´ Ã— $0 = $0 | **~$2.98** |
| ì„±ì¥ê¸° ì§„ì… | 1,000ê±´ | 850ê±´ Ã— $0.007 = $5.95 | 150ê±´ Ã— ~$1.25* | **~$7.20** |

*CLOVA ë¬´ë£Œ 100ê±´ ì´ˆê³¼ë¶„ 50ê±´ Ã— $0.025 ì¶”ì •

### ì„±ì¥ê¸° 3-Tier ë¹„ìš© (ë¹„êµ)

| ë‹¨ê³„ | ì›” í˜¸ì¶œ | PaddleOCR | GPT-4o mini | CLOVA | **í•©ê³„** |
|------|---------|-----------|-------------|-------|---------|
| 3,000ê±´ | 70% / 20% / 10% | 2,100ê±´ Ã— $0 | 600ê±´ Ã— $0.007 = $4.20 | 300ê±´ Ã— $0.025 = $5.00* | **~$9.20** |
| 5,000ê±´ | 70% / 20% / 10% | 3,500ê±´ Ã— $0 | 1,000ê±´ Ã— $0.007 = $7.00 | 500ê±´ Ã— $0.025 = $10.00* | **~$17.00** |

*CLOVA ë¬´ë£Œ 100ê±´ ì°¨ê° í›„

### í•µì‹¬ ì¸ì‚¬ì´íŠ¸ (ë³€ê²½ ì—†ìŒ)

> **"ì„ íƒ ê¸°ì¤€ì€ ë¹„ìš©ì´ ì•„ë‹ˆë¼ ì•„í‚¤í…ì²˜ ë‹¨ìˆœì„±ê³¼ ì •í™•ë„"**
>
> OCRì€ ì‹¸ë‹¤. ë³µì¡ì„±ì´ ë¹„ì‹¸ë‹¤.
>
> ì–´ë–¤ ì „ëµì´ë“  ì›” ìˆ˜ì‹­ ë‹¬ëŸ¬ ì´ë‚´.
> ì§„ì§œ ë¹„ìš©ì€ LLM ë²ˆì—­/ì„¤ëª… ìƒì„± íŒŒì´í”„ë¼ì¸ì—ì„œ ë°œìƒí•œë‹¤.

---

## 5. ìš°ì„ ìˆœìœ„: OCRë³´ë‹¤ ì¤‘ìš”í•œ ê²ƒ

### í˜„ì¬ ìƒíƒœì™€ ëª©í‘œ

| ìˆœìœ„ | í•­ëª© | í˜„ì¬ | ëª©í‘œ | ì¤‘ìš”ë„ |
|------|------|------|------|--------|
| **1** | ë§¤ì¹­ ì—”ì§„ ì •í™•ë„ | 68% | 85%+ | â­â­â­â­â­ |
| **2** | Canonical ë©”ë‰´ DB | 112ê°œ | 500ê°œ+ | â­â­â­â­â­ |
| **3** | OCR í”„ë¡¬í”„íŠ¸ í…ŒìŠ¤íŠ¸ | ë¯¸ì‹œì‘ | ì‹¤ë©”ë‰´ 10ì¥ ê²€ì¦ | â­â­â­â­ |
| 4 | í”„ë¡ íŠ¸ì—”ë“œ UI | ë¯¸ì‹œì‘ | ì¹´ë©”ë¼ ì—…ë¡œë“œ ë™ì‘ | â­â­â­ |
| 5 | ë²ˆì—­/ì„¤ëª… ìƒì„± | ë¯¸ì‹œì‘ | ì˜ì–´ 1ê°œ ì–¸ì–´ | â­â­â­ |
| 6 | PaddleOCR í†µí•© | ë³´ë¥˜ | ì„±ì¥ê¸° íˆ¬ì… | â­â­ |

### ì™œ ë§¤ì¹­ì´ OCRë³´ë‹¤ ì¤‘ìš”í•œê°€

```
ì‚¬ìš©ì ê²½í—˜ íë¦„:
ë©”ë‰´íŒ ì‚¬ì§„ â†’ [OCR] â†’ í…ìŠ¤íŠ¸ â†’ [ë§¤ì¹­] â†’ ê°œë… â†’ [ë²ˆì—­/ì„¤ëª…] â†’ ìµœì¢… ì¶œë ¥
                 â†“              â†“                    â†“
              "ê¹€ì¹˜ì°Œê²Œ"    â†’  "ê¹€ì¹˜ì°Œê°œ"  â†’  "Kimchi Stew: fermented..."
              (OCR ì˜¤ë¥˜)     (ë§¤ì¹­ì´ ë³´ì •)    (ì‚¬ìš©ìê°€ ë³´ëŠ” ê²°ê³¼)
```

- OCRì´ "ê¹€ì¹˜ì°Œê²Œ"ë¡œ ì˜ëª» ì½ì–´ë„, ë§¤ì¹­ ì—”ì§„ì´ "ê¹€ì¹˜ì°Œê°œ"ë¡œ ë³´ì •í•˜ë©´ ë¬¸ì œì—†ìŒ
- í•˜ì§€ë§Œ ë§¤ì¹­ì´ "ê¹€ì¹˜ì°Œê°œ"ë¥¼ DBì—ì„œ ëª» ì°¾ìœ¼ë©´, OCRì´ 100% ì •í™•í•´ë„ ì„œë¹„ìŠ¤ ì‹¤íŒ¨
- **Knowledge Graphì˜ ì»¤ë²„ë¦¬ì§€ì™€ ì •í™•ë„ê°€ ì„œë¹„ìŠ¤ í’ˆì§ˆì„ ê²°ì •**

### OCRì— ê³¼ë„í•˜ê²Œ ì§‘ì°©í•˜ì§€ ì•ŠëŠ” ì´ìœ 

1. GPT-4o mini Visionì€ ì´ë¯¸ "ì¶©ë¶„íˆ ì¢‹ì€" ìˆ˜ì¤€
2. í•œêµ­ì–´ ë§ì¶¤ë²• ì˜¤ë¥˜ â†’ ë§¤ì¹­ ì—”ì§„ì˜ ì •ê·œí™” ë ˆì´ì–´ê°€ ì²˜ë¦¬
3. ë©”ë‰´ëª… ë³€í˜• â†’ modifier decompositionì´ ì²˜ë¦¬
4. ë¯¸ë“±ë¡ ë©”ë‰´ â†’ AI discoveryê°€ ì²˜ë¦¬
5. **ì§„ì§œ ë³‘ëª©ì€ DB ì»¤ë²„ë¦¬ì§€ (112ê°œ â†’ 500ê°œ+)**

---

## 6. ì¦‰ì‹œ ì‹¤í–‰ ì‚¬í•­

### âœ… Sprint 2ì— í¬í•¨

- [x] OCR ì „ëµ í™•ì •: GPT-4o mini Vision (Tier 1) + CLOVA (Tier 2)
- [x] MVPì—ì„œ PaddleOCR ì œì™¸ í™•ì •
- [ ] OpenAI API í‚¤ ë°œê¸‰ ë° .env ì¶”ê°€
- [ ] GPT-4o mini Vision ë©”ë‰´ OCR í”„ë¡¬í”„íŠ¸ ì„¤ê³„
- [ ] ì‹¤ì œ ë©”ë‰´íŒ ì‚¬ì§„ 10ì¥ìœ¼ë¡œ ì •í™•ë„ ê²€ì¦
- [ ] ê°€ê²© í›„ì²˜ë¦¬ ê²€ì¦ ë¡œì§ êµ¬í˜„
- [ ] CLOVA OCR fallback ê²½ë¡œ êµ¬í˜„
- [ ] ì‹ ë¢°ë„ ê¸°ë°˜ ë¼ìš°íŒ… ë¡œì§ êµ¬í˜„

### ğŸ“Š ê²€ì¦ í…ŒìŠ¤íŠ¸ ì„¤ê³„

| í…ŒìŠ¤íŠ¸ | ëŒ€ìƒ | ëª©í‘œ | ìš°ì„ ìˆœìœ„ |
|--------|------|------|---------|
| **ë§¤ì¹­ ì •í™•ë„** | 300ê°œ ì‹¤ë©”ë‰´ ì¬í…ŒìŠ¤íŠ¸ | 68% â†’ 75%+ (DB í™•ì¥ í›„) | â­â­â­â­â­ |
| ì¸ì‡„ì²´ OCR | GPT-4o mini, ë©”ë‰´íŒ 5ì¥ | 85%+ ì •í™•ë„ | â­â­â­â­ |
| ê°€ê²© ì¶”ì¶œ | GPT-4o mini, ë©”ë‰´íŒ 10ì¥ | 95%+ ì •í™•ë„ | â­â­â­â­ |
| ì†ê¸€ì”¨ OCR | CLOVA vs GPT-4o mini, 3ì¥ | CLOVA ìš°ìœ„ í™•ì¸ | â­â­â­ |
| ì‹¤ì œ í† í° ë¹„ìš© | GPT-4o mini, 10ê±´ | ê±´ë‹¹ ì‹¤ë¹„ìš© ì¸¡ì • | â­â­â­ |

### ğŸ”® ì„±ì¥ê¸°ì— ì¶”ê°€í•  ê²ƒ

- [ ] PaddleOCR Docker ì»¨í…Œì´ë„ˆ ì¶”ê°€
- [ ] í•œêµ­ì–´ ì „ìš© ëª¨ë¸ (`korean_PP-OCRv5_mobile_rec`) ë°°í¬
- [ ] 3-Tier ë¼ìš°íŒ… ë¡œì§ êµ¬í˜„
- [ ] OCR ë¹„ìš© ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- [ ] OCR ê²°ê³¼ ìºì‹± (ë™ì¼ ë©”ë‰´íŒ ì¬ì²˜ë¦¬ ë°©ì§€)

---

## ë¶€ë¡ A: í”„ë¡¬í”„íŠ¸ ì´ˆì•ˆ

### GPT-4o mini Vision ë©”ë‰´ OCR í”„ë¡¬í”„íŠ¸

```python
MENU_OCR_PROMPT = """
You are a Korean restaurant menu parser.
Extract ALL menu items from this Korean menu image.

Return ONLY valid JSON (no markdown, no explanation):
{
  "items": [
    {
      "name_ko": "ê¹€ì¹˜ì°Œê°œ",
      "price": 9000,
      "description_ko": "ë¼ì§€ê³ ê¸° ê¹€ì¹˜ì°Œê°œ",
      "section": "ì°Œê°œë¥˜",
      "confidence": 0.95
    }
  ],
  "metadata": {
    "total_items": 5,
    "currency": "KRW",
    "has_handwriting": false,
    "image_quality": "good",
    "needs_fallback": false
  }
}

Rules:
- price: integer in KRW. "9,000ì›" â†’ 9000. If unclear â†’ null
- description_ko: if exists on menu. Otherwise â†’ null
- section: menu section header if visible. Otherwise â†’ null
- confidence: 0.0~1.0 per item (how sure you are about name + price)
- needs_fallback: true if image too blurry/complex to parse reliably
- Handle size variants: "ì†Œ/ì¤‘/ëŒ€" â†’ separate items or note in description
- Handle per-serving: "1ì¸ë¶„ 9,000ì›" â†’ price per person
- If multi-column layout: read left column first, then right
"""
```

### CLOVA OCR Fallback â†’ GPT-4o mini íŒŒì‹± í”„ë¡¬í”„íŠ¸

```python
MENU_PARSE_PROMPT = """
The following text was extracted by OCR from a Korean restaurant menu.
The OCR may contain errors. Parse into structured menu items.

OCR Text:
{ocr_text}

Return same JSON format as above.
Note: Use Korean language context to correct obvious OCR errors:
- "ê¹€ì¹˜ì°Œê²Œ" â†’ likely "ê¹€ì¹˜ì°Œê°œ"
- "9.000ì›" â†’ likely "9,000ì›" = 9000
- "ë¼ˆí•´ì¥êµ­" â†’ likely "ë¼ˆí•´ì¥êµ­" (correct as-is)
"""
```

---

## ë¶€ë¡ B: ê°€ê²© ì¶œì²˜

| ì„œë¹„ìŠ¤ | ì¶œì²˜ | í™•ì¸ì¼ |
|--------|------|--------|
| OpenAI GPT-4o mini | https://platform.openai.com/docs/pricing | 2025-02 |
| OpenAI ì´ë¯¸ì§€ í† í° | https://platform.openai.com/docs/guides/images-vision | 2025-02 |
| CLOVA OCR | https://www.ncloud.com/v2/product/aiService/ocr | 2025-02 |
| Google Cloud Vision | https://cloud.google.com/vision/pricing | 2025-02 |
| PaddleOCR | https://github.com/PaddlePaddle/PaddleOCR | 2025-02 |
| PaddleOCR í•œêµ­ì–´ | https://huggingface.co/PaddlePaddle/korean_PP-OCRv5_mobile_rec | 2025-02 |
| OCR.space | https://ocr.space/ocrapi | 2025-02 |
| Azure AI Vision | https://azure.microsoft.com/pricing/details/cognitive-services/ | 2025-02 |
| AWS Textract | https://aws.amazon.com/textract/pricing/ | 2025-02 |

---

## ë¶€ë¡ C: v3 ë³€ê²½ ì´ë ¥

| í•­ëª© | v2 | v3 | ë³€ê²½ ì´ìœ  |
|------|----|----|----------|
| ê±´ë‹¹ ë¹„ìš© | $0.003 | $0.005~0.01 | ì‹¤ì œ ë©”ë‰´íŒ í† í° ë°˜ì˜ (ë‚™ê´€â†’í˜„ì‹¤) |
| CLOVA í˜¸ì¶œ ë¹„ìœ¨ | 5% | 10~15% | ë¹„ì •í˜• ë©”ë‰´íŒ ë¹„ìœ¨ í˜„ì‹¤ ë°˜ì˜ |
| MVP ì „ëµ | 3-Tier | **2-Tier** | PaddleOCR ë³µì¡ì„± > ë¹„ìš© ì ˆê° |
| ë¦¬ìŠ¤í¬ ì„¹ì…˜ | ì—†ìŒ | **ì¶”ê°€** | Vision LLM ë¹„ê²°ì •ì„±, ê°€ê²© ì˜¤ë¥˜ |
| ê°€ê²© í›„ì²˜ë¦¬ | ì—†ìŒ | **í•„ìˆ˜** | ê°€ê²©ì€ KGë¡œ ë³´ì • ë¶ˆê°€ |
| ìš°ì„ ìˆœìœ„ | OCR ì¤‘ì‹¬ | **ë§¤ì¹­ > OCR** | KG ì»¤ë²„ë¦¬ì§€ê°€ ì„œë¹„ìŠ¤ í’ˆì§ˆ ê²°ì • |
| PaddleOCR ì‹œì  | MVP | **ì„±ì¥ê¸°** | ì›” 3,000ê±´+ ë¶€í„° ì˜ë¯¸ |
